

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Tutorial: Basic and Complex Data Types &mdash; larch 0.9.8 documentation</title>
    
    <link rel="stylesheet" href="_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.9.8',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="larch 0.9.8 documentation" href="index.html" />
    <link rel="up" title="Larch Tutorial" href="tutorial.html" />
    <link rel="next" title="Tutorial: Conditional Execution and Flow Control" href="tutorial_flow.html" />
    <link rel="prev" title="Tutorial: Getting Started" href="tutorial_start.html" /> 
  </head>
  <body>
<div style="background-color: #CFDADD; text-align: left; padding: 8px 4px 8px 4px">
  <font size=28px> <a href="index.html">
      <img src="_static/larchcones.png"
                height=65 border="0" alt="larch"/>
    &nbsp; Larch: X-ray Data Analysis</a>
  </font>
</div>

    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="tutorial_flow.html" title="Tutorial: Conditional Execution and Flow Control"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="tutorial_start.html" title="Tutorial: Getting Started"
             accesskey="P">previous</a> |</li>
   <li><a href="installation.html">download</a>|&nbsp;</li>
   <li><a href="tutorial.html">tutorial</a>|&nbsp;</li>
   <li><a href="reference.html">reference</a>|&nbsp;</li>
   <li><a href="developers.html">develop</a>|&nbsp;</li>
   <li><a href="xafs.html">XAFS analysis</a>|&nbsp;</li>
   <li><a href="xrf.html">XRF analysis</a>|&nbsp;</li>
   &nbsp;&nbsp;<li><a href="search.html">search docs</a>&nbsp;</li>

          <li><a href="tutorial.html" accesskey="U">Larch Tutorial</a> &raquo;</li> 
      </ul>
    </div>

      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Tutorial: Basic and Complex Data Types</a><ul>
<li><a class="reference internal" href="#basic-data-types">Basic Data Types</a></li>
<li><a class="reference internal" href="#objects-and-groups">Objects and Groups</a><ul>
<li><a class="reference internal" href="#objects">Objects</a></li>
<li><a class="reference internal" href="#groups">Groups</a></li>
<li><a class="reference internal" href="#builtin-larch-groups">Builtin Larch Groups</a></li>
<li><a class="reference internal" href="#how-larch-finds-variable-names">How Larch finds variable names</a></li>
</ul>
</li>
<li><a class="reference internal" href="#more-complex-data-structures-lists-arrays-dictionaries">More Complex Data Structures:  Lists, Arrays, Dictionaries</a><ul>
<li><a class="reference internal" href="#lists">Lists</a></li>
<li><a class="reference internal" href="#tuples">Tuples</a></li>
<li><a class="reference internal" href="#a-second-look-at-strings">A second look at Strings</a></li>
<li><a class="reference internal" href="#arrays">Arrays</a></li>
<li><a class="reference internal" href="#dictionaries">Dictionaries</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="tutorial_start.html"
                        title="previous chapter">Tutorial: Getting Started</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="tutorial_flow.html"
                        title="next chapter">Tutorial: Conditional Execution and Flow Control</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/tutorial_datatypes.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="tutorial-basic-and-complex-data-types">
<h1>Tutorial: Basic and Complex Data Types<a class="headerlink" href="#tutorial-basic-and-complex-data-types" title="Permalink to this headline">¶</a></h1>
<p>This section of the Larch tutorial describes the types of data that Larch
has, and how to use them.</p>
<div class="section" id="basic-data-types">
<h2>Basic Data Types<a class="headerlink" href="#basic-data-types" title="Permalink to this headline">¶</a></h2>
<p>As with most programming languages, Larch has several built-in data types
to express different kinds of data.  These include the usual integers,
floating point numbers, and strings common to many programming languages.
A variable name can hold any of these types (or any of the other more
complex types we&#8217;ll get to later), and does not need to be declared
beforehand or to change its value or type.  Some examples:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">larch</span><span class="o">&gt;</span> <span class="n">a</span> <span class="o">=</span> <span class="mi">2</span>
<span class="n">larch</span><span class="o">&gt;</span> <span class="n">b</span> <span class="o">=</span> <span class="mf">2.50</span>
</pre></div>
</div>
<p>The normal &#8216;+&#8217;, &#8216;-&#8216;, &#8216;*&#8217;, and &#8216;/&#8217; operations work on numerical values for
addition, subtraction, multiplication, and division.  Exponentiation is
signified by &#8216;**&#8217;, and modulus by &#8216;%&#8217;.  Larch uses the &#8216;/&#8217; symbol for
division or &#8216;true division&#8217;, giving a floating point value if needed, even
if the numerator and denominator are integers, and &#8216;//&#8217; for integer or
&#8216;floor&#8217; division.  Thus:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">larch</span><span class="o">&gt;</span> <span class="mi">3</span> <span class="o">+</span> <span class="n">a</span>
<span class="mi">5</span>
<span class="n">larch</span><span class="o">&gt;</span> <span class="n">b</span><span class="o">*</span><span class="mi">2</span>
<span class="mf">5.0</span>
<span class="n">larch</span><span class="o">&gt;</span> <span class="mi">3</span><span class="o">/</span><span class="mi">2</span>
<span class="mf">1.5</span>
<span class="n">larch</span><span class="o">&gt;</span> <span class="mi">3</span><span class="o">//</span><span class="mi">2</span>
<span class="mi">1</span>
<span class="n">larch</span><span class="o">&gt;</span> <span class="mi">7</span> <span class="o">%</span> <span class="mi">3</span>
<span class="mi">1</span>
</pre></div>
</div>
<p>Several other operators are supported for bit manipulation.</p>
<p>Literal strings are created with either matched closing single or double
quotes:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">larch</span><span class="o">&gt;</span> <span class="n">s</span> <span class="o">=</span> <span class="s">&#39;a string&#39;</span>
<span class="n">larch</span><span class="o">&gt;</span> <span class="n">s2</span> <span class="o">=</span> <span class="s">&quot;a different string&quot;</span>
</pre></div>
</div>
<p>A string can include a &#8216;n&#8217; character (for newline) or &#8216;t&#8217; (for tab) and
several other control characters as in many languages.  For strings that
may span over more than 1 line, a special &#8220;triple quoted&#8221; syntax is
supported, so that:</p>
<div class="highlight-python"><pre>larch&gt; long_string = """Now is the time for all good men
.....&gt; to come to the aid of their party"""
larch&gt; print long_string
Now is the time for all good men
to come to the aid of their party</pre>
</div>
<p>It is important to keep in mind that mixing data types in a calculation may
or may not make sense to Larch.  For example, a string cannot be added to a
integer:</p>
<div class="highlight-python"><pre>larch&gt; '1' + 1
Runtime Error:
cannot concatenate 'str' and 'int' objects
&lt;StdInput&gt;
     '1' + 1</pre>
</div>
<p>but you can add an integer and a float:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">larch</span><span class="o">&gt;</span> <span class="mi">1</span> <span class="o">+</span> <span class="mf">2.5</span>
<span class="mf">3.5</span>
</pre></div>
</div>
<p>and you can multiply a string by an integer:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">larch</span><span class="o">&gt;</span> <span class="s">&#39;string&#39;</span> <span class="o">*</span> <span class="mi">2</span>
<span class="s">&#39;stringstring&#39;</span>
</pre></div>
</div>
<p>Larch has special variables for boolean or logical operations: <tt class="docutils literal"><span class="pre">True</span></tt> and
<tt class="docutils literal"><span class="pre">False</span></tt>.  These are equal to 1 and 0, respectively, but are mostly used
in logical operations, which include operators &#8216;and&#8217;, &#8216;or&#8217;, and &#8216;not&#8217;, as
well as comparison operators &#8216;&gt;&#8217;, &#8216;&gt;=&#8217;, &#8216;&lt;&#8217;, &#8216;&lt;=&#8217;, &#8216;==&#8217;, &#8216;!=&#8217;, and &#8216;is&#8217;.
Note that &#8216;is&#8217; expresses identity, which is a slightly stricter test than
&#8216;==&#8217; (equality), and is most useful for complex objects.:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">larch</span><span class="o">&gt;</span> <span class="mi">2</span> <span class="o">&gt;</span> <span class="mi">3</span>
<span class="bp">False</span>
<span class="n">larch</span><span class="o">&gt;</span> <span class="p">(</span><span class="n">b</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">b</span> <span class="o">&lt;=</span> <span class="mi">10</span><span class="p">)</span>
<span class="bp">True</span>
</pre></div>
</div>
<p>The special value <tt class="docutils literal"><span class="pre">None</span></tt> is used as a null value throughout Larch and
Python.</p>
<p>Finally, Larch knows about complex numbers, using a &#8216;j&#8217; to indicate the
imaginary part of the number:</p>
<div class="highlight-python"><pre>larch&gt; sqrt(-1)
Warning: invalid value encountered in sqrt
nan
larch&gt; sqrt(-1+0j)
1j
larch&gt; 1j*1j
(-1+0j)
larch&gt; x = sin(1+1j)
larch&gt; print x
(1.2984575814159773+0.63496391478473613j)
larch&gt; print x.imag
0.63496391478473613</pre>
</div>
<p>To be clear, all these primitive data types in Larch are derived from the
corresponding Python objects, so you can consult python documentation for
further details and notes.</p>
</div>
<div class="section" id="objects-and-groups">
<h2>Objects and Groups<a class="headerlink" href="#objects-and-groups" title="Permalink to this headline">¶</a></h2>
<p>Since Larch is built upon Python, an object-oriented programming language,
all named quantities or <strong>variables</strong> in Larch are python objects.  Because
of this, most Larch variables come with built-in functionality derived from
their python objects. Though Larch does not provide a way for the user to
define their own new objects, this can be done with the Python interface.</p>
<div class="section" id="objects">
<h3>Objects<a class="headerlink" href="#objects" title="Permalink to this headline">¶</a></h3>
<p>All Larch variables are Python objects, and so have a well-defined <strong>type</strong>
and a set of <strong>attributes</strong> and <strong>methods</strong> that go with it.   To see the
Python type of any variable, use the builtin <tt class="xref py py-func docutils literal"><span class="pre">type()</span></tt> function:</p>
<div class="highlight-python"><pre>larch&gt; type(1)
&lt;type 'int'&gt;
larch&gt; type('1')
&lt;type 'str'&gt;
larch&gt; type(1.0)
&lt;type 'float'&gt;
larch&gt; type(1+0j)
&lt;type 'complex'&gt;
larch&gt; type(sin)
&lt;type 'numpy.ufunc'&gt;</pre>
</div>
<p>The attributes and methods differ for each type of object, but are all
accessed the same way &#8211; with a &#8216;.&#8217; (dot) separating the variable name or
value from the name of the attribute or method.   As above, complex data
have <tt class="xref py py-attr docutils literal"><span class="pre">real</span></tt> and <tt class="xref py py-attr docutils literal"><span class="pre">imag</span></tt> attributes for the real and imaginary
parts,  which can be accessed:</p>
<div class="highlight-python"><pre>larch&gt; x = sin(1+1j)
larch&gt; print x
(1.2984575814159773+0.63496391478473613j)
larch&gt; print x.imag
0.63496391478473613</pre>
</div>
<p>Methods are functions that belong to an object (and so know about the data
in that object).  They are also objects themselves (and so have attributes
and methods), but can be called using parentheses &#8216;()&#8217;, possibly with
arguments inside the parentheses to change the methods behavior.  For
example, a complex number has a <tt class="xref py py-meth docutils literal"><span class="pre">conjugate()</span></tt> method:</p>
<div class="highlight-python"><pre>larch&gt; x.conjugate
&lt;built-in method conjugate of complex object at 0x178e54b8&gt;
larch&gt; x.conjugate()
(1.2984575814159773-0.63496391478473613j)</pre>
</div>
<p>Strings and other data types have many more attributes and methods, as
we&#8217;ll see below.</p>
<p>To get a listing of all the attributes and methods of a object, use the
builtin <tt class="xref py py-func docutils literal"><span class="pre">dir()</span></tt> function:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">larch</span><span class="o">&gt;</span> <span class="nb">dir</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="p">[</span><span class="s">&#39;__abs__&#39;</span><span class="p">,</span> <span class="s">&#39;__add__&#39;</span><span class="p">,</span> <span class="s">&#39;__and__&#39;</span><span class="p">,</span> <span class="s">&#39;__class__&#39;</span><span class="p">,</span> <span class="s">&#39;__cmp__&#39;</span><span class="p">,</span> <span class="s">&#39;__coerce__&#39;</span><span class="p">,</span> <span class="s">&#39;__delattr__&#39;</span><span class="p">,</span> <span class="s">&#39;__div__&#39;</span><span class="p">,</span> <span class="s">&#39;__divmod__&#39;</span><span class="p">,</span> <span class="s">&#39;__doc__&#39;</span><span class="p">,</span> <span class="s">&#39;__float__&#39;</span><span class="p">,</span> <span class="s">&#39;__floordiv__&#39;</span><span class="p">,</span> <span class="s">&#39;__format__&#39;</span><span class="p">,</span> <span class="s">&#39;__getattribute__&#39;</span><span class="p">,</span> <span class="s">&#39;__getnewargs__&#39;</span><span class="p">,</span> <span class="s">&#39;__hash__&#39;</span><span class="p">,</span> <span class="s">&#39;__hex__&#39;</span><span class="p">,</span> <span class="s">&#39;__index__&#39;</span><span class="p">,</span> <span class="s">&#39;__init__&#39;</span><span class="p">,</span> <span class="s">&#39;__int__&#39;</span><span class="p">,</span> <span class="s">&#39;__invert__&#39;</span><span class="p">,</span> <span class="s">&#39;__long__&#39;</span><span class="p">,</span> <span class="s">&#39;__lshift__&#39;</span><span class="p">,</span> <span class="s">&#39;__mod__&#39;</span><span class="p">,</span> <span class="s">&#39;__mul__&#39;</span><span class="p">,</span> <span class="s">&#39;__neg__&#39;</span><span class="p">,</span> <span class="s">&#39;__new__&#39;</span><span class="p">,</span> <span class="s">&#39;__nonzero__&#39;</span><span class="p">,</span> <span class="s">&#39;__oct__&#39;</span><span class="p">,</span> <span class="s">&#39;__or__&#39;</span><span class="p">,</span> <span class="s">&#39;__pos__&#39;</span><span class="p">,</span> <span class="s">&#39;__pow__&#39;</span><span class="p">,</span> <span class="s">&#39;__radd__&#39;</span><span class="p">,</span> <span class="s">&#39;__rand__&#39;</span><span class="p">,</span> <span class="s">&#39;__rdiv__&#39;</span><span class="p">,</span> <span class="s">&#39;__rdivmod__&#39;</span><span class="p">,</span> <span class="s">&#39;__reduce__&#39;</span><span class="p">,</span> <span class="s">&#39;__reduce_ex__&#39;</span><span class="p">,</span> <span class="s">&#39;__repr__&#39;</span><span class="p">,</span> <span class="s">&#39;__rfloordiv__&#39;</span><span class="p">,</span> <span class="s">&#39;__rlshift__&#39;</span><span class="p">,</span> <span class="s">&#39;__rmod__&#39;</span><span class="p">,</span> <span class="s">&#39;__rmul__&#39;</span><span class="p">,</span> <span class="s">&#39;__ror__&#39;</span><span class="p">,</span> <span class="s">&#39;__rpow__&#39;</span><span class="p">,</span> <span class="s">&#39;__rrshift__&#39;</span><span class="p">,</span> <span class="s">&#39;__rshift__&#39;</span><span class="p">,</span> <span class="s">&#39;__rsub__&#39;</span><span class="p">,</span> <span class="s">&#39;__rtruediv__&#39;</span><span class="p">,</span> <span class="s">&#39;__rxor__&#39;</span><span class="p">,</span> <span class="s">&#39;__setattr__&#39;</span><span class="p">,</span> <span class="s">&#39;__sizeof__&#39;</span><span class="p">,</span> <span class="s">&#39;__str__&#39;</span><span class="p">,</span> <span class="s">&#39;__sub__&#39;</span><span class="p">,</span> <span class="s">&#39;__subclasshook__&#39;</span><span class="p">,</span> <span class="s">&#39;__truediv__&#39;</span><span class="p">,</span> <span class="s">&#39;__trunc__&#39;</span><span class="p">,</span> <span class="s">&#39;__xor__&#39;</span><span class="p">,</span> <span class="s">&#39;conjugate&#39;</span><span class="p">,</span> <span class="s">&#39;denominator&#39;</span><span class="p">,</span> <span class="s">&#39;imag&#39;</span><span class="p">,</span> <span class="s">&#39;numerator&#39;</span><span class="p">,</span> <span class="s">&#39;real&#39;</span><span class="p">]</span>
<span class="n">larch</span><span class="o">&gt;</span> <span class="nb">dir</span><span class="p">(</span><span class="s">&#39;a string&#39;</span><span class="p">)</span>
<span class="p">[</span><span class="s">&#39;__add__&#39;</span><span class="p">,</span> <span class="s">&#39;__class__&#39;</span><span class="p">,</span> <span class="s">&#39;__contains__&#39;</span><span class="p">,</span> <span class="s">&#39;__delattr__&#39;</span><span class="p">,</span> <span class="s">&#39;__doc__&#39;</span><span class="p">,</span> <span class="s">&#39;__eq__&#39;</span><span class="p">,</span> <span class="s">&#39;__format__&#39;</span><span class="p">,</span> <span class="s">&#39;__ge__&#39;</span><span class="p">,</span> <span class="s">&#39;__getattribute__&#39;</span><span class="p">,</span> <span class="s">&#39;__getitem__&#39;</span><span class="p">,</span> <span class="s">&#39;__getnewargs__&#39;</span><span class="p">,</span> <span class="s">&#39;__getslice__&#39;</span><span class="p">,</span> <span class="s">&#39;__gt__&#39;</span><span class="p">,</span> <span class="s">&#39;__hash__&#39;</span><span class="p">,</span> <span class="s">&#39;__init__&#39;</span><span class="p">,</span> <span class="s">&#39;__le__&#39;</span><span class="p">,</span> <span class="s">&#39;__len__&#39;</span><span class="p">,</span> <span class="s">&#39;__lt__&#39;</span><span class="p">,</span> <span class="s">&#39;__mod__&#39;</span><span class="p">,</span> <span class="s">&#39;__mul__&#39;</span><span class="p">,</span> <span class="s">&#39;__ne__&#39;</span><span class="p">,</span> <span class="s">&#39;__new__&#39;</span><span class="p">,</span> <span class="s">&#39;__reduce__&#39;</span><span class="p">,</span> <span class="s">&#39;__reduce_ex__&#39;</span><span class="p">,</span> <span class="s">&#39;__repr__&#39;</span><span class="p">,</span> <span class="s">&#39;__rmod__&#39;</span><span class="p">,</span> <span class="s">&#39;__rmul__&#39;</span><span class="p">,</span> <span class="s">&#39;__setattr__&#39;</span><span class="p">,</span> <span class="s">&#39;__sizeof__&#39;</span><span class="p">,</span> <span class="s">&#39;__str__&#39;</span><span class="p">,</span> <span class="s">&#39;__subclasshook__&#39;</span><span class="p">,</span> <span class="s">&#39;_formatter_field_name_split&#39;</span><span class="p">,</span> <span class="s">&#39;_formatter_parser&#39;</span><span class="p">,</span> <span class="s">&#39;capitalize&#39;</span><span class="p">,</span> <span class="s">&#39;center&#39;</span><span class="p">,</span> <span class="s">&#39;count&#39;</span><span class="p">,</span> <span class="s">&#39;decode&#39;</span><span class="p">,</span> <span class="s">&#39;encode&#39;</span><span class="p">,</span> <span class="s">&#39;endswith&#39;</span><span class="p">,</span> <span class="s">&#39;expandtabs&#39;</span><span class="p">,</span> <span class="s">&#39;find&#39;</span><span class="p">,</span> <span class="s">&#39;format&#39;</span><span class="p">,</span> <span class="s">&#39;index&#39;</span><span class="p">,</span> <span class="s">&#39;isalnum&#39;</span><span class="p">,</span> <span class="s">&#39;isalpha&#39;</span><span class="p">,</span> <span class="s">&#39;isdigit&#39;</span><span class="p">,</span> <span class="s">&#39;islower&#39;</span><span class="p">,</span> <span class="s">&#39;isspace&#39;</span><span class="p">,</span> <span class="s">&#39;istitle&#39;</span><span class="p">,</span> <span class="s">&#39;isupper&#39;</span><span class="p">,</span> <span class="s">&#39;join&#39;</span><span class="p">,</span> <span class="s">&#39;ljust&#39;</span><span class="p">,</span> <span class="s">&#39;lower&#39;</span><span class="p">,</span> <span class="s">&#39;lstrip&#39;</span><span class="p">,</span> <span class="s">&#39;partition&#39;</span><span class="p">,</span> <span class="s">&#39;replace&#39;</span><span class="p">,</span> <span class="s">&#39;rfind&#39;</span><span class="p">,</span> <span class="s">&#39;rindex&#39;</span><span class="p">,</span> <span class="s">&#39;rjust&#39;</span><span class="p">,</span> <span class="s">&#39;rpartition&#39;</span><span class="p">,</span> <span class="s">&#39;rsplit&#39;</span><span class="p">,</span> <span class="s">&#39;rstrip&#39;</span><span class="p">,</span> <span class="s">&#39;split&#39;</span><span class="p">,</span> <span class="s">&#39;splitlines&#39;</span><span class="p">,</span> <span class="s">&#39;startswith&#39;</span><span class="p">,</span> <span class="s">&#39;strip&#39;</span><span class="p">,</span> <span class="s">&#39;swapcase&#39;</span><span class="p">,</span> <span class="s">&#39;title&#39;</span><span class="p">,</span> <span class="s">&#39;translate&#39;</span><span class="p">,</span> <span class="s">&#39;upper&#39;</span><span class="p">,</span> <span class="s">&#39;zfill&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>Again, we&#8217;ll see properties of objects below, as we look into more
interesting data types, or you can look into Python documentation.</p>
</div>
<div class="section" id="groups">
<h3>Groups<a class="headerlink" href="#groups" title="Permalink to this headline">¶</a></h3>
<p>In addition to using basic Python objects, Larch organizes data into
Groups.  A Group is simply a named container for variables of any kind,
including other Groups.  In this way, Groups have a heirarchical structure,
much like a directory of files.  Each Larch variable belongs to a Group,
and can be accessed by its full Group name.  The top-level Group is called
&#8216;_main&#8217;.  You&#8217;ll rarely need to use that, but it&#8217;s there:</p>
<div class="highlight-python"><pre>larch&gt; myvar = 22.13
larch&gt; print _main.myvar
22.13
larch&gt; print myvar
22.13</pre>
</div>
<p>You can create your own groups and add data to it with the builtin
<tt class="xref py py-meth docutils literal"><span class="pre">group()</span></tt> function:</p>
<div class="highlight-python"><pre>larch&gt; g = group()
larch&gt; g
&lt;Group&gt;</pre>
</div>
<p>You can add variables to your Group &#8216;g&#8217;, using the &#8216;.&#8217; (dot) to separate
the parent group from the child object:</p>
<div class="highlight-python"><pre>larch&gt; g.x = 1002.8
larch&gt; g.name = 'here is a string'
larch&gt; g.data = arange(100)
larch&gt; print g.x/5
200.56</pre>
</div>
<p>(<tt class="xref py py-func docutils literal"><span class="pre">arange()</span></tt> is a builtin function to create an array of numbers).  As
from the above discussion of objects, the &#8216;.&#8217; (dot) notation implies that
&#8216;x&#8217;, &#8216;name&#8217;, and &#8216;data&#8217; are attributes of &#8216;g&#8217; &#8211; that&#8217;s entirely correct.
Groups have no other properties than the data attributes (and functions)
you add to them.  Since they&#8217;re objects, you can use the <tt class="xref py py-func docutils literal"><span class="pre">dir()</span></tt>
function as above:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">larch</span><span class="o">&gt;</span> <span class="nb">dir</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
<span class="p">[</span><span class="s">&#39;data&#39;</span><span class="p">,</span> <span class="s">&#39;name&#39;</span><span class="p">,</span> <span class="s">&#39;x&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>(Note that the order shown may vary).  You can also use the builtin
<tt class="xref py py-func docutils literal"><span class="pre">show()</span></tt> function to get a slightly more complete view of the group&#8217;s
contents:</p>
<div class="highlight-python"><pre>larch&gt; show(g)
== Group: 3 symbols ==
  data: array&lt;shape=(100,), type=dtype('int32')&gt;
  name: 'here is a string'
  x: 1002.8</pre>
</div>
<p>The <tt class="xref py py-func docutils literal"><span class="pre">group()</span></tt> function can take arguments of attribute names and
values, so that this group could have been created with a single call:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">larch</span><span class="o">&gt;</span> <span class="n">g</span> <span class="o">=</span> <span class="n">group</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mf">1002.8</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s">&#39;here is a string&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">arange</span><span class="p">(</span><span class="mi">100</span><span class="p">))</span>
</pre></div>
</div>
<p>Many Larch functions will return groups or take a &#8216;group&#8217; argument to
write data into.  That is, a function that reads data from a file will
almost certainly organize that data into a group, and simply return the
group for you to name, perhaps something like:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">larch</span><span class="o">&gt;</span> <span class="n">cu</span> <span class="o">=</span> <span class="n">read_ascii</span><span class="p">(</span><span class="s">&#39;cu_150k.xmu&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="builtin-larch-groups">
<h3>Builtin Larch Groups<a class="headerlink" href="#builtin-larch-groups" title="Permalink to this headline">¶</a></h3>
<p>Larch starts up with several groups, organizing builtin functionality into
different groups.  The top-level &#8216;_main&#8217; group begins with 3 principle
subgroups, &#8216;_builtin&#8217;, &#8216;_sys&#8217;, and &#8216;_math&#8217; for basic functionality.  For
almost all uses of Larch, several additional groups are created for more
specific functionality are created on startup by Larch plugins.  The
principle starting groups are describe in
<a class="reference internal" href="#tutor-topgroups-table"><em>Table of Basic Larch Groups</em></a></p>
<blockquote id="tutor-topgroups-table">
<div><blockquote>
<div>Table of Basic Larch Groups.  These groups are listed in order of how
they will be searched for functions and data.</div></blockquote>
<table border="1" class="docutils">
<colgroup>
<col width="29%" />
<col width="71%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head"><strong>Group Name</strong></th>
<th class="head"><strong>description</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>_builtin</td>
<td>basic builtin functions.</td>
</tr>
<tr class="row-odd"><td>_math</td>
<td>mathematical and array functions.</td>
</tr>
<tr class="row-even"><td>_sys</td>
<td>larch sstem-wide variables.</td>
</tr>
<tr class="row-odd"><td>_io</td>
<td>file input/output functions.</td>
</tr>
<tr class="row-even"><td>_plotter</td>
<td>plotting and image display functions.</td>
</tr>
<tr class="row-odd"><td>_xafs</td>
<td>XAFS-specific functions.</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>The functions in &#8216;_builtin&#8217;  are mostly inherited from Python&#8217;s own
built-in functions.  The functions in &#8216;_math&#8217; are mostly inherited from
Numpy, and contain basic array handling and math.</p>
</div>
<div class="section" id="how-larch-finds-variable-names">
<h3>How Larch finds variable names<a class="headerlink" href="#how-larch-finds-variable-names" title="Permalink to this headline">¶</a></h3>
<p>With several builtin groups, and even more groups created to store your own
data to be processed, Larch ends up with a complex heirarchy of data.  This
gives a good way of organizing data, but it also leads to a question of how
variable names are found.  Of course, you can always access a function or
data object by its full name:</p>
<div class="highlight-python"><pre>larch&gt; print _math.sin(_math.pi/2)
1.0</pre>
</div>
<p>but that&#8217;s too painful to use, and of course, one needs to be able to do:</p>
<div class="highlight-python"><pre>larch&gt; print sin(pi/2)
1.0</pre>
</div>
<p>and have Larch know that when you say <tt class="xref py py-func docutils literal"><span class="pre">sin()</span></tt>, you mean
<tt class="xref py py-func docutils literal"><span class="pre">_math.sin()</span></tt>.  The way this look-up of names works is that Larch keeps
a list of groups that it will search through for names.  This list is held
in the variable <tt class="xref py py-data docutils literal"><span class="pre">_sys.searchGroups</span></tt>, and can be viewed and modified
during a Lach session.  On startup, this list has the groups listed in
<a class="reference internal" href="#tutor-topgroups-table"><em>Table of Basic Larch Groups</em></a>, in the order
shown.  To be clear, if there was a variable named <tt class="xref py py-data docutils literal"><span class="pre">_sys.something</span></tt>
and a <tt class="xref py py-data docutils literal"><span class="pre">_math.something</span></tt>, typing &#8216;something&#8217; would resolve to
<tt class="xref py py-data docutils literal"><span class="pre">_sys.something</span></tt>, and to access <tt class="xref py py-data docutils literal"><span class="pre">_math.something</span></tt> you would
have to give the full name.   For the builtin functions and variables, such
clashes are not so likely, but they are likely if you read in many data
sets as groups, and want to access the contents of the different groups.</p>
</div>
</div>
<div class="section" id="more-complex-data-structures-lists-arrays-dictionaries">
<h2>More Complex Data Structures:  Lists, Arrays, Dictionaries<a class="headerlink" href="#more-complex-data-structures-lists-arrays-dictionaries" title="Permalink to this headline">¶</a></h2>
<p>Larch has many more data types built on top of the primitive types above.
These are generally useful for storing collections of data, and can be
built up to construct very complex structures.  These are all described in
some detail here.  But as these are all closely related to Python objects,
further details can be found in the standard Python documentation.</p>
<div class="section" id="lists">
<h3>Lists<a class="headerlink" href="#lists" title="Permalink to this headline">¶</a></h3>
<p>A list is an ordered sequence of other data types.  They are
<strong>heterogeneous</strong> &#8211; they can be made up of data with different types.  A
list is constructed using brackets, with commas to separate the
individual:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">larch</span><span class="o">&gt;</span> <span class="n">my_list1</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="n">larch</span><span class="o">&gt;</span> <span class="n">my_list2</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="s">&#39;string&#39;</span><span class="p">,</span> <span class="n">sqrt</span><span class="p">(</span><span class="mi">7</span><span class="p">)]</span>
</pre></div>
</div>
<p>A list can contain a list as one of its elements:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">larch</span><span class="o">&gt;</span> <span class="n">nested_list</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s">&#39;c&#39;</span><span class="p">,</span> <span class="s">&#39;d&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s">&#39;e&#39;</span><span class="p">,</span> <span class="s">&#39;f&#39;</span><span class="p">,</span> <span class="s">&#39;g&#39;</span><span class="p">]]]</span>
</pre></div>
</div>
<p>You can access the elements of a list using brackets and the integer index
(starting from 0):</p>
<div class="highlight-python"><pre>larch&gt; print my_list2[1]
'string'
larch&gt; print nested_list[2]
['c', 'd', ['e', 'f', 'g']]
larch&gt; print nested_list[2][0]
'c'</pre>
</div>
<p>Lists are <strong>mutable</strong> &#8211; they can be changed, in place.   To do this, you
can replace an element in a list:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">larch</span><span class="o">&gt;</span> <span class="n">my_list1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="s">&#39;hello&#39;</span>
<span class="n">larch</span><span class="o">&gt;</span> <span class="n">my_list1</span>
<span class="p">[</span><span class="s">&#39;hello&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
</pre></div>
</div>
<p>As above, lists are python <strong>objects</strong>, and so come with methods for
interacting with them.  For example, you can also change a list by
appending to it with the &#8216;append&#8217; method:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">larch</span><span class="o">&gt;</span> <span class="n">my_list1</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s">&#39;number 4, the larch&#39;</span><span class="p">)</span>
<span class="n">larch</span><span class="o">&gt;</span> <span class="n">my_list1</span>
<span class="p">[</span><span class="s">&#39;hello&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="s">&#39;number 4, the larch&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>All lists will have an &#8216;append&#8217; method, as well as several others:</p>
<blockquote>
<div><ul class="simple">
<li>count &#8211; to return the number of times a particular element occurss in the list</li>
<li>extend &#8211; to extend a list with another list</li>
<li>index &#8211; to find the first occurance of an element</li>
<li>insert &#8211; to insert an element in a particular place.</li>
<li>pop &#8211; to remove and return the last element (or other specified index).</li>
<li>remove &#8211; remove a particular element</li>
<li>reverse &#8211; reverse the order of elements</li>
<li>sort &#8211; sort the elements.</li>
</ul>
</div></blockquote>
<p>Note that the methods that change the list do so <em>IN PLACE</em> and return
<tt class="docutils literal"><span class="pre">None</span></tt>.  That is, to sort a list, do this:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">larch</span><span class="o">&gt;</span> <span class="n">my_list</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
</pre></div>
</div>
<p>but not this:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">larch</span><span class="o">&gt;</span> <span class="n">my_list</span> <span class="o">=</span> <span class="n">my_list</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>  <span class="c"># WRONG!!</span>
</pre></div>
</div>
<p>as that will set &#8216;my_list&#8217; to None.</p>
<p>You can get the length of a list with the built-in <tt class="xref py py-func docutils literal"><span class="pre">len()</span></tt> function,
and test whether a particular element is in a list with the <cite>in</cite> operator:</p>
<div class="highlight-python"><pre>larch&gt; my_list = ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j']
larch&gt; print len(my_list)
10
larch&gt; 'e' in my_list
True</pre>
</div>
<p>You can access a sub-selection of elements with a <strong>slice</strong>, giving starting
and ending indices between brackets, separated by a colon.  Of course, the counting
for a slice starts at 0. It also excludesthe final index:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">larch</span><span class="o">&gt;</span> <span class="n">my_list</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">3</span><span class="p">]</span>
<span class="p">[</span><span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;c&#39;</span><span class="p">]</span>
<span class="n">larch</span><span class="o">&gt;</span> <span class="n">my_list</span><span class="p">[:</span><span class="mi">4</span><span class="p">]</span>   <span class="c"># Note implied 0!</span>
<span class="p">[</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;c&#39;</span><span class="p">,</span> <span class="s">&#39;d&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>You can count backwards, and using &#8216;-1&#8217; is a convenient way to get the last
element of a list.  You can also add an optional third value to the slice for a step:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">larch</span><span class="o">&gt;</span> <span class="n">my_list</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="s">&#39;j&#39;</span>
<span class="n">larch</span><span class="o">&gt;</span> <span class="n">my_list</span><span class="p">[</span><span class="o">-</span><span class="mi">3</span><span class="p">:]</span>
<span class="p">[</span><span class="s">&#39;h&#39;</span><span class="p">,</span> <span class="s">&#39;i&#39;</span><span class="p">,</span> <span class="s">&#39;j&#39;</span><span class="p">]</span>
<span class="n">larch</span><span class="o">&gt;</span> <span class="n">my_list</span><span class="p">[::</span><span class="mi">2</span><span class="p">]</span>  <span class="c"># every other element, starting at 0</span>
<span class="p">[</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;c&#39;</span><span class="p">,</span> <span class="s">&#39;e&#39;</span><span class="p">,</span> <span class="s">&#39;g&#39;</span><span class="p">,</span> <span class="s">&#39;i&#39;</span><span class="p">]</span>
<span class="n">larch</span><span class="o">&gt;</span> <span class="n">my_list</span><span class="p">[</span><span class="mi">1</span><span class="p">::</span><span class="mi">2</span><span class="p">]</span>  <span class="c"># every other element, starting at 1</span>
<span class="p">[</span><span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;d&#39;</span><span class="p">,</span> <span class="s">&#39;f&#39;</span><span class="p">,</span> <span class="s">&#39;h&#39;</span><span class="p">,</span> <span class="s">&#39;j&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>A final important property of lists, and of basic variable creation in
Larch (and Python) is related to the discussion above about variable
creation and assignment.  There we said that &#8216;creating a variable&#8217;:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">larch</span><span class="o">&gt;</span> <span class="n">my_list</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;c&#39;</span><span class="p">,</span> <span class="s">&#39;d&#39;</span><span class="p">,</span> <span class="s">&#39;e&#39;</span><span class="p">,</span> <span class="s">&#39;f&#39;</span><span class="p">,</span> <span class="s">&#39;g&#39;</span><span class="p">,</span> <span class="s">&#39;h&#39;</span><span class="p">,</span> <span class="s">&#39;i&#39;</span><span class="p">,</span> <span class="s">&#39;j&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>was best thought of as creating a value (here, the
literal list &#8220;[&#8216;a&#8217;, &#8216;b&#8217;, ..., &#8216;j&#8217;]&#8221;) and then assigning the name &#8216;my_list&#8217;
to point to that value.  Here&#8217;s why we make that distinction.   If you
now say:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">larch</span><span class="o">&gt;</span> <span class="n">your_list</span> <span class="o">=</span> <span class="n">my_list</span>
</pre></div>
</div>
<p>the variable &#8216;your_list&#8217; now points to the same value &#8211; the same list.
That is, it does not make a copy of the list. Since the list is mutable,
changing &#8216;your_list&#8217; will also change &#8216;my_list&#8217;:</p>
<div class="highlight-python"><pre>larch&gt; your_list[0] = 500
larch&gt; print my_list[:3]
[500, 'b', 'c']                # changed!!</pre>
</div>
<p>You can make a copy of a list, by selecting a full slice:</p>
<div class="highlight-python"><pre>larch&gt; your_list = my_list[:]
larch&gt; your_list[0] = 3.2444
larch&gt; print my_list[:3]
[500, 'b', 'c']                 # now unchanged

larch&gt; your_list[0] == my_list[0]
False</pre>
</div>
<p>Note that this behavior doesn&#8217;t happen for immutable data types, including
the more primitive data types such as integers, floats and strings.  This
is essentially because you cannot assign to parts of those data types, only
set its entire value.</p>
<p>As always, consult the Python documentation for more details.</p>
</div>
<div class="section" id="tuples">
<h3>Tuples<a class="headerlink" href="#tuples" title="Permalink to this headline">¶</a></h3>
<p>Like lists, tuples are sequences of heterogenous objects.  The principle
difference is that tuples are <strong>immutable</strong> &#8211; they cannot be changed once
they are created.  Instead, tuples are a simple ordered container of data.
The syntax for tuples uses comma separated values inside (optional!)
parentheses in place of brackets:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">larch</span><span class="o">&gt;</span> <span class="n">my_tuple</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s">&#39;H&#39;</span><span class="p">,</span> <span class="s">&#39;hydrogen&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Like lists, tuples can be indexed and sliced:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">larch</span><span class="o">&gt;</span> <span class="n">my_tuple</span><span class="p">[:</span><span class="mi">2</span><span class="p">]</span>
<span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s">&#39;H&#39;</span><span class="p">)</span>
<span class="n">larch</span><span class="o">&gt;</span> <span class="n">my_tuple</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="s">&#39;hydrogen&#39;</span>
</pre></div>
</div>
<p>Due to their immutability, tuples have only a few methods (&#8216;count&#8217; and
&#8216;index&#8217; with similar functionality as for list).</p>
<p>Though tuples they may seem less powerful than lists, and they are actually
used widely with Larch and Python.  In addition to the example above using
a tuple for a short, fixed data structure, many functions will return a
tuple of values.  For this case, the simplicity an immutability of tuples
is a strength becaues, once created, a tuple has a predictable size and
order to its elements, which is not true for lists.  That is, if a larch
procedure (which we&#8217;ll see more of below) returns two values as a tuple:</p>
<div class="highlight-python"><pre>larch&gt; def sumdiff(x, y):
.....&gt;     return x+y, x-y
.....&gt; enddef
larch&gt; x = sumdiff(3, 2)
larch&gt; print x[0], x[1]
5 1</pre>
</div>
<p>Because the returned tuple has a fixed structure, you can also assign
the it directly to a set of (the correct number of) variables:</p>
<div class="highlight-python"><pre>larch&gt; plus, minus = sumdiff(10, 3)
larch&gt; print plus, minus
13 7</pre>
</div>
</div>
<div class="section" id="a-second-look-at-strings">
<h3>A second look at Strings<a class="headerlink" href="#a-second-look-at-strings" title="Permalink to this headline">¶</a></h3>
<p>Though discussed earlier in the basic data types, strings are closely
related to lists as well &#8211; they are best thought of as a sequence of
characters.  Like tuples, strings are actually immutable, in that you
cannot change part of a string, instead you must create a new string.
Strings can be indexed and sliced as with lists and tuples:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">larch</span><span class="o">&gt;</span> <span class="n">name</span> <span class="o">=</span> <span class="s">&#39;Montaigne&#39;</span>
<span class="n">larch</span><span class="o">&gt;</span> <span class="n">name</span><span class="p">[:</span><span class="mi">4</span><span class="p">]</span>
<span class="s">&#39;Mont&#39;</span>
</pre></div>
</div>
<p>Strings have many methods &#8211; over 30 of them, in fact.  To convert a string
to lower case, use its <tt class="xref py py-meth docutils literal"><span class="pre">lower()</span></tt> method, and so on:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">larch</span><span class="o">&gt;</span> <span class="s">&#39;Here is a String&#39;</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
<span class="s">&#39;here is a string&#39;</span>
<span class="n">larch</span><span class="o">&gt;</span> <span class="s">&#39;Here is a String&#39;</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span>
<span class="s">&#39;HERE IS A STRING&#39;</span>
<span class="n">larch</span><span class="o">&gt;</span> <span class="s">&#39;Here is a String&#39;</span><span class="o">.</span><span class="n">title</span><span class="p">()</span>
<span class="s">&#39;Here Is A String&#39;</span>
</pre></div>
</div>
<p>This aslo shows that the methods are associated with strings themselves &#8211;
even literal strings, and simply with variable names.</p>
<p>Strings can be split into words with the <tt class="xref py py-meth docutils literal"><span class="pre">split()</span></tt> method, which splits
a string on whitespace by default, but can take an argument to change the
character (or substring) to use to split the string:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">larch</span><span class="o">&gt;</span> <span class="s">&#39;Here is a String&#39;</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
<span class="p">[</span><span class="s">&#39;Here&#39;</span><span class="p">,</span> <span class="s">&#39;is&#39;</span><span class="p">,</span> <span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;String&#39;</span><span class="p">]</span>

<span class="n">larch</span><span class="o">&gt;</span> <span class="s">&#39;Here is a String&#39;</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&#39;i&#39;</span><span class="p">)</span>
<span class="p">[</span><span class="s">&#39;Here &#39;</span><span class="p">,</span> <span class="s">&#39;s a Str&#39;</span><span class="p">,</span> <span class="s">&#39;ng&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>As above, this is really only touching the tip of the iceberg of string
functionality, and consulting standard Python documentation is recommended
for more information.</p>
</div>
<div class="section" id="arrays">
<h3>Arrays<a class="headerlink" href="#arrays" title="Permalink to this headline">¶</a></h3>
<p>Whereas lists are sequences of heterogeneous objects that can grow and
shrink, and included deeply nested structures, they are not well suited for
holding numerical data.  Arrays are sequences of the same primitive data
type, and so are much closer to arrays in C or Fortran.  This makes them
much more suitable for numeric calculations, and so are extremely important
in Larch.  There are many ways to create arrays, including the builtin
<tt class="xref py py-func docutils literal"><span class="pre">array()</span></tt> function which will attempt to convert a list or tuple of
numbers into an Array.  You can also use the builtin <tt class="xref py py-func docutils literal"><span class="pre">arange()</span></tt>
function to create an ordered sequence of indices ([1, 2, 3, ...]), and
several other methods listed in</p>
<p><a class="reference internal" href="#tutor-arraycreate-table"><em>Table of Array Creation Functions</em></a></p>
<blockquote id="tutor-arraycreate-table">
<div><blockquote>
<div>Table of Array Creation Functions.  These functions can all be used to
create arrays in Larch.</div></blockquote>
<table border="1" class="docutils">
<colgroup>
<col width="28%" />
<col width="35%" />
<col width="38%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head"><strong>Function Name</strong></th>
<th class="head"><strong>description</strong></th>
<th class="head"><strong>example</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>array</td>
<td>array from list</td>
<td>arr = array([1,2,3])</td>
</tr>
<tr class="row-odd"><td>arange</td>
<td>indices 0, N-1</td>
<td>arr = arange(10)</td>
</tr>
<tr class="row-even"><td>zeros</td>
<td>fill with N zeros</td>
<td>arr = zeros(10)</td>
</tr>
<tr class="row-odd"><td>ones</td>
<td>fill with N ones</td>
<td>arr = ones(10)</td>
</tr>
<tr class="row-even"><td>linspace</td>
<td>fill with bounds and N</td>
<td>arra = linspace(0, 1, 11)</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>Some examples of using these functions are needed:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">larch</span><span class="o">&gt;</span> <span class="n">i</span> <span class="o">=</span> <span class="n">arange</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="n">larch</span><span class="o">&gt;</span> <span class="n">i</span>
<span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">])</span>
<span class="n">larch</span><span class="o">&gt;</span> <span class="n">f</span> <span class="o">=</span> <span class="n">arange</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="s">&#39;f8&#39;</span><span class="p">)</span>
<span class="n">larch</span><span class="o">&gt;</span> <span class="n">f</span>
<span class="n">array</span><span class="p">([</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">,</span> <span class="mf">2.</span><span class="p">,</span> <span class="mf">3.</span><span class="p">,</span> <span class="mf">4.</span><span class="p">,</span> <span class="mf">5.</span><span class="p">,</span> <span class="mf">6.</span><span class="p">,</span> <span class="mf">7.</span><span class="p">,</span> <span class="mf">8.</span><span class="p">,</span> <span class="mf">9.</span><span class="p">])</span>
<span class="n">larch</span><span class="o">&gt;</span> <span class="n">c</span> <span class="o">=</span> <span class="n">arange</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="s">&#39;c16&#39;</span><span class="p">)</span>
<span class="n">larch</span><span class="o">&gt;</span> <span class="n">c</span>
<span class="n">array</span><span class="p">([</span> <span class="mf">0.</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">,</span>  <span class="mf">1.</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">,</span>  <span class="mf">2.</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">,</span>  <span class="mf">3.</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">,</span>  <span class="mf">4.</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">,</span>  <span class="mf">5.</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">,</span>  <span class="mf">6.</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">,</span>
        <span class="mf">7.</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">,</span>  <span class="mf">8.</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">,</span>  <span class="mf">9.</span><span class="o">+</span><span class="mf">0.</span><span class="n">j</span><span class="p">])</span>
</pre></div>
</div>
<p>Here, the <strong>dtype</strong> argument sets the data type for the array members &#8211; in
this case &#8216;f8&#8217; means &#8216;8 byte floating point&#8217; and &#8216;c16&#8217; means &#8216;16 byte
complex&#8217; (i.e, double precision, and double precision complex,
respectively).</p>
<p>The <tt class="xref py py-func docutils literal"><span class="pre">linspace()</span></tt> function is particularly useful for creating arrays,
as it takes a starting value, ending value, and number of points between
these:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">larch</span><span class="o">&gt;</span> <span class="n">s</span> <span class="o">=</span> <span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">21</span><span class="p">)</span>
<span class="n">larch</span><span class="o">&gt;</span> <span class="n">s</span>
<span class="n">array</span><span class="p">([</span>  <span class="mf">0.</span> <span class="p">,</span>   <span class="mf">0.5</span><span class="p">,</span>   <span class="mf">1.</span> <span class="p">,</span>   <span class="mf">1.5</span><span class="p">,</span>   <span class="mf">2.</span> <span class="p">,</span>   <span class="mf">2.5</span><span class="p">,</span>   <span class="mf">3.</span> <span class="p">,</span>   <span class="mf">3.5</span><span class="p">,</span>   <span class="mf">4.</span> <span class="p">,</span>
         <span class="mf">4.5</span><span class="p">,</span>   <span class="mf">5.</span> <span class="p">,</span>   <span class="mf">5.5</span><span class="p">,</span>   <span class="mf">6.</span> <span class="p">,</span>   <span class="mf">6.5</span><span class="p">,</span>   <span class="mf">7.</span> <span class="p">,</span>   <span class="mf">7.5</span><span class="p">,</span>   <span class="mf">8.</span> <span class="p">,</span>   <span class="mf">8.5</span><span class="p">,</span>
         <span class="mf">9.</span> <span class="p">,</span>   <span class="mf">9.5</span><span class="p">,</span>  <span class="mf">10.</span> <span class="p">])</span>
</pre></div>
</div>
<p>Several variants are possible.  For more information, consult the numpy
tutorials, or use the online help system within Larch (which will print out
the documentation string from the underlying numpy function):</p>
<div class="highlight-python"><pre>larch&gt; help(linspace)

    Return evenly spaced numbers over a specified interval.

    Returns `num` evenly spaced samples, calculated over the
    interval [`start`, `stop` ].

    The endpoint of the interval can optionally be excluded.

    Parameters
    ----------
    start : scalar
        The starting value of the sequence.
    stop : scalar
        The end value of the sequence, unless `endpoint` is set to False.
        In that case, the sequence consists of all but the last of ``num + 1``
        evenly spaced samples, so that `stop` is excluded.  Note that the step
        size changes when `endpoint` is False.
    num : int, optional
        Number of samples to generate. Default is 50.
    endpoint : bool, optional
        If True, `stop` is the last sample. Otherwise, it is not included.
        Default is True.
    retstep : bool, optional
        If True, return (`samples`, `step`), where `step` is the spacing
        between samples.

    ....</pre>
</div>
</div>
<div class="section" id="dictionaries">
<h3>Dictionaries<a class="headerlink" href="#dictionaries" title="Permalink to this headline">¶</a></h3>
<p>Our final basic data-structure is the dictionary, which is a container that
maps values to keys.  This is sometimes called a hash or associative array.
Like a list, a dictionary holds many heterogeneous values, and can be
altered in place.  Unlike a list, the elements of a dictionary have no
guaranteed order, and are not selected by integer index, and multiple
values cannot be selected by a slice.  Instead, the elements of a
dictionary are accessed by key, which is normally a string, but can also be
an integer or floating point number, or even a tuple or some other objects
&#8211; any <strong>immutable</strong> object can be used.   Dictionaries are delimited by
curly braces, with colons (&#8216;:&#8217;) separating key and value, and commas
separating different elements:</p>
<div class="highlight-python"><pre>larch&gt; atomic_weight = {'H': 1.008, 'He': 4.0026, 'Li': 6.9, 'Be': 9.012}
larch&gt; print atomic_weight['He']
4.0026</pre>
</div>
<p>You can also add more elements to a dictionary by assigning to a new key:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">larch</span><span class="o">&gt;</span> <span class="n">atomic_weight</span><span class="p">[</span><span class="s">&#39;B&#39;</span><span class="p">]</span>  <span class="o">=</span> <span class="mf">10.811</span>
<span class="n">larch</span><span class="o">&gt;</span> <span class="n">atomic_weight</span><span class="p">[</span><span class="s">&#39;C&#39;</span><span class="p">]</span>  <span class="o">=</span> <span class="mf">12.01</span>
</pre></div>
</div>
<p>Dictionaries have several methods, such as to return all the keys or all
the values, with:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">larch</span><span class="o">&gt;</span> <span class="n">atomic_weight</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
<span class="p">[</span><span class="s">&#39;Be&#39;</span><span class="p">,</span> <span class="s">&#39;C&#39;</span><span class="p">,</span> <span class="s">&#39;B&#39;</span><span class="p">,</span> <span class="s">&#39;H&#39;</span><span class="p">,</span> <span class="s">&#39;Li&#39;</span><span class="p">,</span> <span class="s">&#39;He&#39;</span><span class="p">]</span>
<span class="n">larch</span><span class="o">&gt;</span> <span class="n">atomic_weight</span><span class="o">.</span><span class="n">values</span><span class="p">()</span>
<span class="p">[</span><span class="mf">9.0120000000000005</span><span class="p">,</span> <span class="mf">12.01</span><span class="p">,</span> <span class="mf">10.811</span><span class="p">,</span> <span class="mf">1.008</span><span class="p">,</span> <span class="mf">6.9000000000000004</span><span class="p">,</span> <span class="mf">4.0026000000000002</span><span class="p">]</span>
</pre></div>
</div>
<p>Note that the keys and values are not in the order they were entered in,
but do have the same order.</p>
<p>As with lists, dictionaries are mutable, and the values in a dictionary can
be any object, including other lists and dictionaries, so that a dictionary
can end up with a very complex structure.  Dictionaries are quite useful,
and are in fact used throughout python.</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="tutorial_flow.html" title="Tutorial: Conditional Execution and Flow Control"
             >next</a> |</li>
        <li class="right" >
          <a href="tutorial_start.html" title="Tutorial: Getting Started"
             >previous</a> |</li>
   <li><a href="installation.html">download</a>|&nbsp;</li>
   <li><a href="tutorial.html">tutorial</a>|&nbsp;</li>
   <li><a href="reference.html">reference</a>|&nbsp;</li>
   <li><a href="developers.html">develop</a>|&nbsp;</li>
   <li><a href="xafs.html">XAFS analysis</a>|&nbsp;</li>
   <li><a href="xrf.html">XRF analysis</a>|&nbsp;</li>
   &nbsp;&nbsp;<li><a href="search.html">search docs</a>&nbsp;</li>

          <li><a href="tutorial.html" >Larch Tutorial</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2011, Matthew Newville.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.2.
    </div>
  </body>
</html>