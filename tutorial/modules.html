

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Tutorial: Running Larch Scripts, and Modules &mdash; larch 0.9.12 documentation</title>
    
    <link rel="stylesheet" href="../_static/larchdoc.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.9.12',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="larch 0.9.12 documentation" href="../index.html" />
    <link rel="up" title="Larch Tutorial" href="index.html" />
    <link rel="next" title="Tutorial: Builtin Functions" href="builtins.html" />
    <link rel="prev" title="Tutorial: Writing Procedures" href="procedures.html" /> 
  </head>
  <body>
<div style=" color: #76989B; text-align: left; padding: 2px 2px 2px 2px">
<table><tr><td>
   <a href="../index.html">
      <img src="../_static/larchcones.png" height=90 alt="larchcones"/>
   </a>
</td><td>
      <font size=+3><a href="../index.html" style="color: #662211">
        &nbsp; Larch: X-ray Data Analysis   </a></font>
</td></tr></table>
</div>


    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../np-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="builtins.html" title="Tutorial: Builtin Functions"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="procedures.html" title="Tutorial: Writing Procedures"
             accesskey="P">previous</a> |</li>
   <li><a href="../installation.html">download</a>|&nbsp;</li>
   <li><a href="index.html">tutorial</a>|&nbsp;</li>
   <li><a href="../reference.html">reference</a>|&nbsp;</li>
   <li><a href="../xafs/index.html">XAFS analysis</a>|&nbsp;</li>
   <li><a href="../xray/index.html">XRF analysis</a>|&nbsp;</li>
   &nbsp;&nbsp;<li><a href="../search.html">search</a>&nbsp;</li>

          <li><a href="index.html" accesskey="U">Larch Tutorial</a> &raquo;</li> 
      </ul>
    </div>

      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Tutorial: Running Larch Scripts, and Modules</a><ul>
<li><a class="reference internal" href="#running-a-script-with-run">Running a script with run</a></li>
<li><a class="reference internal" href="#importing-a-larch-module">Importing a Larch Module</a></li>
<li><a class="reference internal" href="#namespaces-again">Namespaces, again</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="procedures.html"
                        title="previous chapter">Tutorial: Writing Procedures</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="builtins.html"
                        title="next chapter">Tutorial: Builtin Functions</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/tutorial/modules.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="tutorial-running-larch-scripts-and-modules">
<h1>Tutorial: Running Larch Scripts, and Modules<a class="headerlink" href="#tutorial-running-larch-scripts-and-modules" title="Permalink to this headline">¶</a></h1>
<p>Once you&#8217;ve done any significant amount of work with Larch, you&#8217;ll want to
save what you&#8217;ve done to a file of Larch code, and run it over again,
perhaps changing some input.  There are a few ways to do this.  Writing
procedures that can be re-used is a highly recommended approach.</p>
<div class="section" id="running-a-script-with-run">
<h2>Running a script with run<a class="headerlink" href="#running-a-script-with-run" title="Permalink to this headline">¶</a></h2>
<p>If you have a file of Larch code, you can run it with the built-in <strong>run</strong>
function:</p>
<div class="highlight-python"><pre># file  myscript.lar
print 'hello from myscript.lar!
for i in range(5):
   print i, sqrt(a)
endfor
#</pre>
</div>
<p>To run this, you simply type:</p>
<div class="highlight-python"><pre>larch&gt; run('myscript.lar')
hello from myscript.lar!
0 0.0
1 1.0
2 1.41421356237
3 1.73205080757
4 2.0</pre>
</div>
<p>A script can contain any Larch code, including procedure definitions.
After running the script, any variables assigned in the script will exist
in your larch session.  For example, after the loop in <em>myscript.lar</em>, the
variable <em>i</em> will be 4, and  you can access this variable:</p>
<div class="highlight-python"><pre>larch&gt; print i
4</pre>
</div>
<p>This is to say that the script runs in the &#8220;top-level namespace&#8221;, about which
we&#8217;ll see more below.</p>
</div>
<div class="section" id="importing-a-larch-module">
<h2>Importing a Larch Module<a class="headerlink" href="#importing-a-larch-module" title="Permalink to this headline">¶</a></h2>
<p>A larch script can also be <strong>imported</strong> using the <strong>import</strong> statement:</p>
<div class="highlight-python"><pre>larch&gt; import myscript</pre>
</div>
<p>Notice a few differences.  First, the &#8216;.lar&#8217; suffix was removed.  Second,
the name is <strong>NOT IN QUOTES</strong> as one my expect for a string containing a
file name.  This is because the <strong>import</strong> statement knows what extensions
to look for:</p>
<blockquote>
<div><ul class="simple">
<li>module lookup</li>
<li>import as..</li>
<li>from xx import yy as zz</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="namespaces-again">
<h2>Namespaces, again<a class="headerlink" href="#namespaces-again" title="Permalink to this headline">¶</a></h2>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../np-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="builtins.html" title="Tutorial: Builtin Functions"
             >next</a> |</li>
        <li class="right" >
          <a href="procedures.html" title="Tutorial: Writing Procedures"
             >previous</a> |</li>
   <li><a href="../installation.html">download</a>|&nbsp;</li>
   <li><a href="index.html">tutorial</a>|&nbsp;</li>
   <li><a href="../reference.html">reference</a>|&nbsp;</li>
   <li><a href="../xafs/index.html">XAFS analysis</a>|&nbsp;</li>
   <li><a href="../xray/index.html">XRF analysis</a>|&nbsp;</li>
   &nbsp;&nbsp;<li><a href="../search.html">search</a>&nbsp;</li>

          <li><a href="index.html" >Larch Tutorial</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2011, Matthew Newville.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>